/*
 monopost
 Author: Jim Cowart (http://freshbrewedcode.com/jimcowart)
 License: Dual licensed MIT (http://www.opensource.org/licenses/mit-license) & GPL (http://www.opensource.org/licenses/gpl-license)
 Version 0.1.1
 */
(function(e,t){typeof module=="object"&&module.exports?module.exports=function(e,n,r){return t(e,n,r)}:typeof define=="function"&&define.amd?define(["underscore","monologue","postal"],function(n,r,i){return t(n,r,i,e)}):e.Monologue=t(e._,e.Monologue,e.postal,e)})(this,function(e,t,n,r,i){return t.prototype.goPostal=function(t,r){var i,s=t||n.configuration.DEFAULT_CHANNEL,o=r||"#",u=this.__postal__={};Object.prototype.toString.call(t)==="[object String]"||arguments.length===0?i=[{channel:s,topic:o}]:typeof t=="object"&&(i=e.reduce(t,function(e,t,n){return e.push({channel:t,topic:n}),e},[])),e.each(i,function(t){u[t.topic]=this.on(t.topic,function(r,i){var s=e.extend({},i,{channel:t.channel});n.publish(s)})},this)},t})